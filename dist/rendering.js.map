{"version":3,"sources":["../src/rendering.js"],"names":["link","scope","elem","attrs","ctrl","data","panel","find","$tooltip","$","events","on","render","setTimeout","incrementRenderCounter","decimals","_","map","dt","i","parseFloat","toFixed"],"mappings":";;;;;;;AAKe,WAASA,IAAT,CAAcC,KAAd,EAAqBC,IAArB,EAA2BC,KAA3B,EAAkCC,IAAlC,EAAwC;AACrD,QAAIC,IAAJ,EAAUC,KAAV;AACAJ,WAAOA,KAAKK,IAAL,CAAU,oBAAV,CAAP;AACA,QAAIC,WAAWC,EAAE,oBAAF,CAAf;;AAEAL,SAAKM,MAAL,CAAYC,EAAZ,CAAe,QAAf,EAAyB,YAAW;AAClCC,aAAO,KAAP;AACAC,iBAAW,YAAW;AAAED,eAAO,IAAP;AAAe,OAAvC,EAAyC,EAAzC;AACD,KAHD;;AAKA,aAASA,MAAT,CAAgBE,sBAAhB,EAAwC;AACtC,UAAI,CAACV,KAAKC,IAAV,EAAgB;AAAE;AAAS;AAC3BA,aAAOD,KAAKC,IAAZ;AACAC,cAAQF,KAAKE,KAAb;;AAEA,UAAIF,KAAKE,KAAL,IAAcF,KAAKE,KAAL,CAAWS,QAA7B,EAAuC;AACrCC,UAAEC,GAAF,CAAMb,KAAKC,IAAX,EAAiB,UAACa,EAAD,EAAKC,CAAL,EAAW;AAC1Bf,eAAKC,IAAL,CAAUc,CAAV,EAAad,IAAb,GAAoBe,WAAWF,GAAGb,IAAd,EAAoBgB,OAApB,CAA4BjB,KAAKE,KAAL,CAAWS,QAAvC,CAApB;AACD,SAFD;AAGD;AACF;AACF;;qBArBuBf,I;;;;AALjBgB,O;;AACAP,O","file":"rendering.js","sourcesContent":["import _ from 'lodash';\nimport $ from 'jquery';\nimport 'jquery.flot';\nimport 'jquery.flot.pie';\n\nexport default function link(scope, elem, attrs, ctrl) {\n  var data, panel;\n  elem = elem.find('.progressbar-panel');\n  var $tooltip = $('<div id=\"tooltip\">');\n\n  ctrl.events.on('render', function() {\n    render(false);\n    setTimeout(function() { render(true); }, 50);\n  });\n\n  function render(incrementRenderCounter) {\n    if (!ctrl.data) { return; }\n    data = ctrl.data;\n    panel = ctrl.panel;\n    \n    if (ctrl.panel && ctrl.panel.decimals) {\n      _.map(ctrl.data, (dt, i) => {\n        ctrl.data[i].data = parseFloat(dt.data).toFixed(ctrl.panel.decimals)\n      })\n    }\n  }\n}\n"]}